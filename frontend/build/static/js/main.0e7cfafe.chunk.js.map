{"version":3,"sources":["contexts/CurrentUserContext.js","utils/api.js","utils/auth.js","images/logo.svg","components/Header.js","components/Card.js","components/Main.js","components/Footer.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/AddPlacePopup.js","components/DeleteCardPopup.js","components/EditAvatarPopup.js","components/ImagePopup.js","components/Login.js","components/Register.js","components/ProtectedRoute.js","components/InfoTooltip.js","images/resolve.svg","images/reject.svg","components/App.js","reportWebVitals.js","index.js"],"names":["CurrentUserContext","React","createContext","api","options","this","_baseUrl","baseUrl","_headers","headers","res","ok","json","Promise","reject","status","statusText","jwt","localStorage","getItem","fetch","_getHeaders","then","_handleRes","data","method","body","JSON","stringify","name","profile_name","about","profile_job","user","link","_id","id","avatar","BASE_URL","checkRes","Header","props","className","src","logo","alt","mail","to","route","type","onClick","title","Card","currentUser","useContext","isOwn","card","owner","isLiked","likes","some","i","cardDeleteButtonClassName","cardLikeButtonClassName","onCardClick","onCardDelete","onCardLike","Main","onEditAvatar","onEditProfile","onAddPlace","cards","map","length","Footer","PopupWithForm","isOpen","onMouseDown","onCloseClick","form","onSubmit","children","buttonText","onClose","EditProfilePopup","useState","setName","description","setDescription","useEffect","evt","preventDefault","placeholder","minLength","maxLength","value","onChange","target","required","AddPlacePopup","setLink","DeleteCardPopup","EditAvatarPopup","ref","useRef","current","ImagePopup","Login","email","setEmail","password","setPassword","onLogin","autoComplete","Register","onRegister","ProtectedRoute","Component","component","isLogged","InfoTooltip","image","App","navigate","useNavigate","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isDeletePopupOpen","setIsDeletePopupOpen","isImagePopupOpen","setIsImagePopupOpen","selectedCard","setSelectedCard","setCurrentUser","setCards","isLoggedIn","setIsLoggedIn","mailName","setMailName","popupImage","setPopupImage","popupTitle","setPopupTitle","infoTooltip","setInfoTooltip","handleInfoTooltip","handlePopupCloseClick","classList","contains","closeAllPopups","auth","catch","err","console","log","all","getUserInfo","getInitialCards","reverse","handleEsc","key","document","addEventListener","removeEventListener","Provider","path","element","setItem","token","resolve","finally","exact","removeItem","deleteCardLike","newCard","state","c","addCardLike","updateUserInfo","newUser","addNewCard","removeCard","items","filter","updateProfileAvatar","newAvatar","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","basename","getElementById"],"mappings":"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","file":"static/js/main.0e7cfafe.chunk.js","sourcesContent":["import React from \"react\";\n\nexport const CurrentUserContext = React.createContext();","class Api {\n  constructor(options) {\n    this._baseUrl = options.baseUrl;\n    this._headers = options.headers;\n  }\n\n  _handleRes(res) {\n    if (res.ok) {\n      return res.json();\n    }\n    return Promise.reject(`${res.status} ${res.statusText}`);\n  }\n\n  _getHeaders() {\n    const jwt = localStorage.getItem('jwt');\n    return {\n      'Authorization': `Bearer ${jwt}`,\n      ...this._headers,\n    };\n  }\n\n  getUserInfo() {\n    return fetch(`${this._baseUrl}/users/me`, {\n      headers: this._getHeaders(),\n    }).then((res) => {\n      return this._handleRes(res);\n    });\n  }\n\n  getInitialCards() {\n    return fetch(`${this._baseUrl}/cards`, {\n      headers: this._getHeaders(),\n    }).then((res) => {\n      return this._handleRes(res);\n    });\n  }\n\n  updateUserInfo(data) {\n    return fetch(`${this._baseUrl}/users/me`, {\n      method: 'PATCH',\n      headers: this._getHeaders(),\n      body: JSON.stringify({\n        name: data.profile_name,\n        about: data.profile_job,\n      }),\n    }).then((res) => {\n      return this._handleRes(res);\n    });\n  }\n\n  addNewCard(user) {\n    return fetch(`${this._baseUrl}/cards`, {\n      method: 'POST',\n      headers: this._getHeaders(),\n      body: JSON.stringify({\n        name: user.name,\n        link: user.link,\n      }),\n    }).then((res) => {\n      return this._handleRes(res);\n    });\n  }\n\n  removeCard(data) {\n    return fetch(`${this._baseUrl}/cards/${data._id}`, {\n      method: 'DELETE',\n      headers: this._getHeaders(),\n    }).then((res) => {\n      return this._handleRes(res);\n    });\n  }\n\n  addCardLike(id) {\n    return fetch(`${this._baseUrl}/cards/${id}/likes`, {\n      method: 'PUT',\n      headers: this._getHeaders(),\n    }).then((res) => {\n      return this._handleRes(res);\n    });\n  }\n\n  deleteCardLike(id) {\n    return fetch(`${this._baseUrl}/cards/${id}/likes`, {\n      method: 'DELETE',\n      headers: this._getHeaders(),\n    }).then((res) => {\n      return this._handleRes(res);\n    });\n  }\n\n  updateProfileAvatar(data) {\n    return fetch(`${this._baseUrl}/users/me/avatar`, {\n      method: 'PATCH',\n      headers: this._getHeaders(),\n      body: JSON.stringify({\n        avatar: data.avatar,\n      }),\n    }).then((res) => {\n      return this._handleRes(res);\n    });\n  }\n}\n\nconst api = new Api({\n  baseUrl: 'http://localhost:3001',\n  headers: {\n    'Content-Type': 'application/json',\n  },\n});\n\nexport default api;\n","export const BASE_URL = 'http://localhost:3001';\n\nexport function registerUser(email, password) {\n  return fetch(`${BASE_URL}/signup`, {\n    method: 'POST',\n    headers: {\n      'Accept': 'application/json',\n      'Content-Type': 'application/json',\n    },\n    body: JSON.stringify({ email, password }),\n  }).then(checkRes);\n}\n\nexport function loginUser(email, password) {\n  return fetch(`${BASE_URL}/signin`, {\n    method: 'POST',\n    headers: {\n      'Accept': 'application/json',\n      'Content-Type': 'application/json',\n    },\n    body: JSON.stringify({ email, password }),\n  }).then(checkRes);\n}\n\nexport function getToken(jwt) {\n  return fetch(`${BASE_URL}/users/me`, {\n    method: 'GET',\n    headers: {\n      'Accept': 'application/json',\n      'Content-Type': 'application/json',\n      'Authorization': `Bearer ${jwt}`,\n    },\n  }).then(checkRes);\n}\n\nfunction checkRes(res) {\n  if (res.ok) {\n    return res.json();\n  }\n  return Promise.reject(res.status);\n}\n","export default __webpack_public_path__ + \"static/media/logo.03b78ada.svg\";","import { Link } from \"react-router-dom\";\nimport logo from \"../images/logo.svg\";\n\nfunction Header(props) {\n  return (\n    <header className=\"header\">\n      <img className=\"header__logo\" src={logo} alt=\"Логотип Mesto\"/>\n      <nav className=\"header__auth\">\n        <p className=\"header__text\">{props.mail}</p>\n        <Link to={props.route} className=\"header__link\" type=\"button\" onClick={props.onClick}>{props.title}</Link>\n      </nav>\n    </header>\n  )\n}\n\nexport default Header;","import React from \"react\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\nfunction Card(props) {\n  const currentUser = React.useContext(CurrentUserContext);\n  const isOwn = props.card.owner === currentUser._id;\n  const isLiked = props.card.likes.some(i => i === currentUser._id);\n\n  const cardDeleteButtonClassName = (\n    `element__btn-trash ${isOwn ? 'element__btn-trash_visible' : ''}`\n  );\n\n  const cardLikeButtonClassName = (\n    `element__btn-like ${isLiked ? 'element__btn-like_active' : ''}`\n  );\n\n  function handleClick() {\n    props.onCardClick(props.card);\n  }\n\n  function handleLikeClick() {\n    props.onCardLike(props.card);\n  }\n\n  function handleDeleteClick() {\n    props.onCardDelete(props.card);\n  }\n\n  return(\n    <figure className=\"element\">\n      <img className=\"element__image\" src={props.link} alt={props.name} title=\"Посмотреть в полном размере\" onClick={handleClick}/>\n      <button className={cardDeleteButtonClassName} type=\"button\" title=\"Удалить\" onClick={handleDeleteClick}/>\n      <figcaption className=\"element__info\">\n        <h2 className=\"element__caption\">{props.name}</h2>\n        <div className=\"element__like-container\">\n          <button className={cardLikeButtonClassName} type=\"button\" title=\"Нравится\" onClick={handleLikeClick}/>\n          <p className=\"element__like-count\">{props.likes}</p>\n        </div>\n      </figcaption>\n    </figure>\n  )\n}\n\nexport default Card;","import React from \"react\";\nimport Card from \"./Card\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\nfunction Main(props) {\n  const currentUser = React.useContext(CurrentUserContext);\n  \n  return (\n    <main className=\"content\">\n      <section className=\"profile\">\n        <button className=\"profile__avatar-edit\" type=\"button\" title=\"Обновить аватар\" onClick={props.onEditAvatar}>\n          <img className=\"profile__avatar\" src={currentUser.avatar} alt={currentUser.name}/>\n        </button>\n        <div className=\"profile__info\">\n          <h1 className=\"profile__name\">{currentUser.name}</h1>\n          <button className=\"profile__btn-edit\" type=\"button\" title=\"Редактировать профиль\" onClick={props.onEditProfile}/>\n          <p className=\"profile__about\">{currentUser.about}</p>\n        </div>\n        <button className=\"profile__btn-add\" type=\"button\" title=\"Добавить новую фотографию\" onClick={props.onAddPlace}/>\n      </section>\n\n      <section className=\"elements\">\n        <ul className=\"elements__list\">\n          {props.cards.map((card, id) => (\n            <Card\n              key={id}\n              card={card}\n              link={card.link}\n              name={card.name}\n              likes={card.likes.length}\n              onCardClick={props.onCardClick}\n              onCardLike={props.onCardLike}\n              onCardDelete={props.onCardDelete}\n            />\n          ))}\n        </ul>\n      </section>\n    </main>\n  )\n}\n\nexport default Main;\n","function Footer() {\n  return (\n    <footer className=\"footer\">\n      <p className=\"footer__author\">&copy; 2022. Mesto Russia</p>\n    </footer>\n  )\n}\n\nexport default Footer;","function PopupWithForm(props) {\n  return (\n    <div className={`popup popup_form_${props.name} ${props.isOpen ? 'popup_opened': ''}`} onMouseDown={props.onCloseClick}>\n      <div className=\"popup__container\">\n        <form className=\"popup__form\" name={props.form} onSubmit={props.onSubmit}>\n          <h2 className=\"popup__title\">{props.title}</h2>\n          {props.children}\n          <button className=\"popup__btn-save\" type=\"submit\" title=\"Сохранить\">{props.buttonText}</button>\n        </form>\n        <button className=\"popup__btn-close\" type=\"button\" title=\"Закрыть\" onClick={props.onClose}/>\n      </div>\n    </div>\n  )\n}\n\nexport default PopupWithForm;","import React from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\nfunction EditProfilePopup(props) {\n  const [name, setName] = React.useState('');\n  const [description, setDescription] = React.useState('');\n  const currentUser = React.useContext(CurrentUserContext);\n\n  function handleNameChange(evt) {\n    setName(evt.target.value);\n  }\n\n  function handleDescriptionChange(evt) {\n    setDescription(evt.target.value);\n  }\n\n  function handleSubmit(evt) {\n    evt.preventDefault();\n\n    props.onSubmit({\n      profile_name: name,\n      profile_job: description\n    });\n  }\n\n  React.useEffect(() => {\n    if (props.isOpen) {\n      setName(currentUser.name);\n      setDescription(currentUser.about);\n    }\n  }, [props.isOpen, currentUser]);\n\n  return(\n    <PopupWithForm\n      isOpen={props.isOpen}\n      onCloseClick={props.onCloseClick}\n      onClose={props.onClose}\n      name={'edit'}\n      form={'profileData'}\n      title={'Редактировать профиль'}\n      buttonText={'Сохранить'}\n      onSubmit={handleSubmit}\n    >\n      <input className=\"popup__input\" id=\"profile_name\" name=\"profile_name\" type=\"text\" placeholder=\"Имя\" minLength=\"2\" maxLength=\"40\" value={name} onChange={handleNameChange} required/>\n      <span className=\"popup__input-error\" id=\"profile_name-error\"/>\n      <input className=\"popup__input\" id=\"profile_description\" name=\"profile_description\" type=\"text\" placeholder=\"О себе\" minLength=\"2\" maxLength=\"200\" value={description} onChange={handleDescriptionChange} required/>\n      <span className=\"popup__input-error\" id=\"profile_description-error\"/>\n    </PopupWithForm>\n  )\n}\n\nexport default EditProfilePopup;","import React from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\n\nfunction AddPlacePopup(props) {\n  const [name, setName] = React.useState('');\n  const [link, setLink] = React.useState('');\n\n  function handleNameChange(evt) {\n    setName(evt.target.value);\n  }\n\n  function handleLinkChange(evt) {\n    setLink(evt.target.value);\n  }\n\n  function handleSubmit(evt) {\n    evt.preventDefault();\n\n    props.onSubmit({\n      name: name,\n      link: link,\n    });\n\n    props.onClose();\n  }\n\n  React.useEffect(() => {\n    if (props.isOpen) {\n      setName('');\n      setLink('');\n    }\n  }, [props.isOpen]);\n\n  return(\n    <PopupWithForm\n      isOpen={props.isOpen}\n      onCloseClick={props.onCloseClick}\n      onClose={props.onClose}\n      name={'add'}\n      form={'placeData'}\n      title={'Новое место'}\n      buttonText={'Создать'}\n      onSubmit={handleSubmit}\n    >\n      <input className=\"popup__input\" id=\"place_name\" name=\"name\" type=\"text\" placeholder=\"Название\" minLength=\"2\" maxLength=\"30\" value={name} onChange={handleNameChange} required/>\n      <span className=\"popup__input-error\" id=\"place_name-error\"/>\n      <input className=\"popup__input\" id=\"place_link\" name=\"link\" type=\"url\" placeholder=\"Ссылка на картинку\" value={link} onChange={handleLinkChange} required/>\n      <span className=\"popup__input-error\" id=\"place_link-error\"/>\n    </PopupWithForm>\n  )\n}\n\nexport default AddPlacePopup;","import PopupWithForm from './PopupWithForm';\n\nfunction DeleteCardPopup(props) {\n  function handleSubmit(evt) {\n    evt.preventDefault();\n\n    props.onSubmit(props.card);\n  }\n\n  return (\n    <PopupWithForm\n      isOpen={props.isOpen}\n      onCloseClick={props.onCloseClick}\n      onClose={props.onClose}\n      name={'delete'}\n      title={'Подтвердите удаление'}\n      buttonText={'Подтверждаю'}\n      onSubmit={handleSubmit}\n    />\n  );\n}\n\nexport default DeleteCardPopup;","import React from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\n\nfunction EditAvatarPopup(props) {\n  const ref = React.useRef();\n\n  function handleSubmit(evt) {\n    evt.preventDefault();\n\n    props.onSubmit({\n      avatar: ref.current.value\n    });\n  }\n\n  React.useEffect(() => {\n    ref.current.value = '';\n  }, [props.isOpen]);\n\n  return(\n    <PopupWithForm \n      isOpen={props.isOpen}\n      onCloseClick={props.onCloseClick}\n      onClose={props.onClose}\n      name={'avatar'}\n      form={'placeData'}\n      title={'Обновить аватар'}\n      buttonText={'Сохранить'}\n      onSubmit={handleSubmit}\n    >\n      <input ref={ref} className=\"popup__input\" id=\"avatar_link\" name=\"avatar_link\" type=\"url\" placeholder=\"Ссылка на аватар\" required/>\n      <span className=\"popup__input-error\" id=\"avatar_link-error\"/>\n    </PopupWithForm>\n  )\n}\n\nexport default EditAvatarPopup;","function ImagePopup(props) {\n  return (\n    <div className={`popup popup_viewer ${props.isOpen ? 'popup_opened' : ''}`} onClick={props.onCloseClick}>\n      <div className=\"popup__content\">\n        <img className=\"popup__image\" src={props.card ? props.card.link : ''} alt={props.card ? props.card.name : ''}/>\n        <h2 className=\"popup__description\">{props.card ? props.card.name : ''}</h2>\n        <button className=\"popup__btn-close\" type=\"button\" title=\"Закрыть\" onClick={props.onClose}/>\n      </div>\n    </div>\n  )\n}\n\nexport default ImagePopup;","import { useState } from \"react\";\n\nfunction Login(props) {\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n\n  function handleMailInput(evt) {\n    setEmail(evt.target.value);\n  }\n\n  function handlePasswordInput(evt) {\n    setPassword(evt.target.value);\n  }\n\n  function handleSubmit(evt) {\n    evt.preventDefault();\n    props.onLogin(email, password);\n  }\n\n  return (\n    <>\n      <section className=\"login\">\n        <h2 className=\"login__title\">Вход</h2>\n        <form className=\"login__form\" onSubmit={handleSubmit}>\n          <input className=\"login__input\" type=\"email\" placeholder=\"Email\" value={email} onChange={handleMailInput} required/>\n          <input className=\"login__input\" type=\"password\" placeholder=\"Пароль\" value={password} autoComplete=\"on\" onChange={handlePasswordInput} required/>\n          <button className=\"login__btn\" type=\"submit\">Войти</button>\n        </form>\n      </section>\n    </>\n  );\n}\n\nexport default Login;\n","import { useState } from \"react\";\nimport { Link } from \"react-router-dom\";\n\nfunction Register(props) {\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n\n  function handleMailInput(evt) {\n    setEmail(evt.target.value);\n  }\n\n  function handlePasswordInput(evt) {\n    setPassword(evt.target.value);\n  }\n\n  function handleSubmit(evt) {\n    evt.preventDefault();\n    props.onRegister(email, password);\n  }\n\n  return (\n    <>\n      <section className=\"login\">\n        <h2 className=\"login__title\">Регистрация</h2>\n        <form className=\"login__form\" onSubmit={handleSubmit}>\n          <input className=\"login__input\" type=\"email\" placeholder=\"Email\" value={email} onChange={handleMailInput} required/>\n          <input className=\"login__input\" type=\"password\" placeholder=\"Пароль\" value={password} autoComplete=\"on\" onChange={handlePasswordInput} required/>\n          <button className=\"login__btn\" type=\"submit\">Зарегистрироваться</button>\n        </form>\n        <p className=\"login__text\">Уже зарегистрированы? <Link to=\"/signin\" className=\"login__link\">Войти</Link> </p>\n      </section>\n    </>\n  );\n}\n\nexport default Register;\n","import React from \"react\";\nimport { Navigate } from \"react-router-dom\";\n\nfunction ProtectedRoute({ component: Component, ...props }) {\n  return props.isLogged ? <Component {...props} /> : <Navigate to=\"/signin\" />;\n}\n\nexport default ProtectedRoute;","function InfoTooltip(props) {\n  return (\n    <div className={`popup ${props.isOpen ? 'popup_opened' : ''}`} onClick={props.onCloseClick}>\n      <div className=\"popup__info\">\n        <img className=\"popup__status\" src={props.image} alt={props.title}/>\n        <h2 className=\"popup__message\">{props.title}</h2>\n        <button className=\"popup__btn-close\" type=\"button\" title=\"Закрыть\" onClick={props.onClose}/>\n      </div>\n    </div>\n  );\n}\n\nexport default InfoTooltip;","export default __webpack_public_path__ + \"static/media/resolve.8fdedbea.svg\";","export default __webpack_public_path__ + \"static/media/reject.df8eddf6.svg\";","import { useEffect, useState } from \"react\";\nimport { Routes, Route, Navigate, useNavigate } from \"react-router-dom\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\nimport api from \"../utils/api\";\nimport * as auth from \"../utils/auth\";\nimport Header from \"./Header\";\nimport Main from \"./Main\";\nimport Footer from \"./Footer\";\nimport EditProfilePopup from \"./EditProfilePopup\";\nimport AddPlacePopup from \"./AddPlacePopup\";\nimport DeleteCardPopup from \"./DeleteCardPopup\";\nimport EditAvatarPopup from \"./EditAvatarPopup\";\nimport ImagePopup from \"./ImagePopup\";\nimport Login from \"./Login\";\nimport Register from \"./Register\";\nimport ProtectedRoute from \"./ProtectedRoute\";\nimport InfoTooltip from \"./InfoTooltip\";\nimport resolve from \"../images/resolve.svg\";\nimport reject from \"../images/reject.svg\";\n\nfunction App() {\n  const navigate = useNavigate();\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = useState(false);\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = useState(false);\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = useState(false);\n  const [isDeletePopupOpen, setIsDeletePopupOpen] = useState(false);\n  const [isImagePopupOpen, setIsImagePopupOpen] = useState(false);\n  const [selectedCard, setSelectedCard] = useState(null);\n  const [currentUser, setCurrentUser] = useState({});\n  const [cards, setCards] = useState([]);\n  const [isLoggedIn, setIsLoggedIn] = useState(false);\n  const [mailName, setMailName] = useState(null);\n  const [popupImage, setPopupImage] = useState(\"\");\n  const [popupTitle, setPopupTitle] = useState(\"\");\n  const [infoTooltip, setInfoTooltip] = useState(false);\n\n  useEffect(() => {\n    const jwt = localStorage.getItem(\"jwt\");\n    if (jwt) {\n      auth.getToken(jwt)\n        .then((res) => {\n          if (res) {\n            setIsLoggedIn(true);\n            setMailName(res.user.email);\n          }\n        })\n        .catch((err) => {\n          console.log(`Не удалось получить токен: ${err}`);\n        })\n    }\n  }, []);\n\n  useEffect(() => {\n    if (isLoggedIn === true) {\n      navigate(\"/\");\n    }\n  }, [isLoggedIn, navigate]);\n\n  function onRegister(email, password) {\n    auth.registerUser(email, password).then(() => {\n      setPopupImage(resolve);\n      setPopupTitle(\"Вы успешно зарегистрировались!\");\n      navigate(\"/signin\");\n    }).catch(() => {\n      closeAllPopups();\n      setPopupImage(reject);\n      setPopupTitle(\"Что-то пошло не так! Попробуйте ещё раз.\");\n    }).finally(handleInfoTooltip);\n  }\n\n  function onLogin(email, password) {\n    auth.loginUser(email, password).then((res) => {\n      localStorage.setItem(\"jwt\", res.token);\n      setIsLoggedIn(true);\n      setMailName(email);\n      navigate(\"/\");\n    }).catch(() => {\n      closeAllPopups();\n      setPopupImage(reject);\n      setPopupTitle(\"Неправильная почта или пароль.\");\n      handleInfoTooltip();\n    });\n  }\n\n  useEffect(() => {\n    if (isLoggedIn === true) {\n      Promise.all([api.getUserInfo(), api.getInitialCards()])\n        .then(([user, cards]) => {\n          setCurrentUser(user.user);\n          setCards(cards.reverse());\n        })\n        .catch(() => {\n          closeAllPopups();\n          setPopupImage(reject);\n          setPopupTitle(\"Что-то пошло не так! Ошибка авторизации.\");\n          handleInfoTooltip();\n        });\n    }\n  }, [isLoggedIn]);\n\n  function handleCardLike(card) {\n    const isLiked = card.likes.some((i) => i === currentUser._id);\n  \n    if (!isLiked) {\n      api.addCardLike(card._id).then((newCard) => {\n        setCards((state) => state.map((c) => (c._id === card._id ? newCard : c)));\n      }).catch(() => {\n        closeAllPopups();\n        setPopupImage(reject);\n        setPopupTitle(\"Что-то пошло не так! Не удалось поставить лайк.\");\n        handleInfoTooltip();\n      });\n    } else {\n      api.deleteCardLike(card._id).then((newCard) => {\n        setCards((state) => state.map((c) => (c._id === card._id ? newCard : c)));\n      }).catch(() => {\n        closeAllPopups();\n        setPopupImage(reject);\n        setPopupTitle(\"Что-то пошло не так! Не удалось снять лайк.\");\n        handleInfoTooltip();\n      });\n    }\n  }\n\n  function handleUpdateUser(data) {\n    api.updateUserInfo(data).then((newUser) => {\n      setCurrentUser(newUser);\n      closeAllPopups();\n    }).catch(() => {\n      setPopupImage(reject);\n      setPopupTitle(\"Что-то пошло не так! Не удалось обновить профиль.\");\n      handleInfoTooltip();\n    });\n  }\n  \n  function handleAddPlaceSubmit(data) {\n    api.addNewCard(data).then((newCard) => {\n      setCards([newCard, ...cards]);\n      closeAllPopups();\n    }).catch(() => {\n      closeAllPopups();\n      setPopupImage(reject);\n      setPopupTitle(\"Что-то пошло не так! Не удалось создать карточку.\");\n      handleInfoTooltip();\n    });\n  }\n  \n  function handleDeleteCard(card) {\n    api.removeCard(card).then(() => {\n      setCards((items) => items.filter((c) => c !== card && c));\n      closeAllPopups();\n    }).catch(() => {\n      closeAllPopups();\n      setPopupImage(reject);\n      setPopupTitle(\"Что-то пошло не так! Не удалось удалить карточку.\");\n      handleInfoTooltip();\n    });\n  }\n\n  function handleAvatarUpdate(data) {\n    api.updateProfileAvatar(data).then((newAvatar) => {\n      setCurrentUser(newAvatar);\n      closeAllPopups();\n    }).catch(() => {\n      closeAllPopups();\n      setPopupImage(reject);\n      setPopupTitle(\"Что-то пошло не так! Не удалось обновить аватар.\");\n      handleInfoTooltip();\n    });\n  }\n  \n  function handleEditAvatarClick() {\n    setIsEditAvatarPopupOpen(true);\n  }\n\n  function handleEditProfileClick() {\n    setIsEditProfilePopupOpen(true);\n  }\n\n  function handleAddPlaceClick() {\n    setIsAddPlacePopupOpen(true);\n  }\n\n  function handleCardClick(card) {\n    setSelectedCard(card);\n    setIsImagePopupOpen(true);\n  }\n\n  function handleInfoTooltip() {\n    setInfoTooltip(true);\n  }\n\n  function handleDeleteCardClick(card) {\n    setSelectedCard(card);\n    setIsDeletePopupOpen(true);\n  }\n\n  function handlePopupCloseClick(evt) {\n    if (evt.target.classList.contains(\"popup_opened\")) {\n      closeAllPopups();\n    }\n  }\n\n  function closeAllPopups() {\n    setIsEditAvatarPopupOpen(false);\n    setIsEditProfilePopupOpen(false);\n    setIsAddPlacePopupOpen(false);\n    setIsImagePopupOpen(false);\n    setInfoTooltip(false);\n    setIsDeletePopupOpen(false);\n  }\n\n  useEffect(() => {\n    if (isEditAvatarPopupOpen || isEditProfilePopupOpen || isAddPlacePopupOpen || selectedCard || infoTooltip) {\n      function handleEsc(evt) {\n        if (evt.key === \"Escape\") {\n          closeAllPopups();\n        }\n      }\n\n      document.addEventListener(\"keydown\", handleEsc);\n\n      return () => {\n        document.removeEventListener(\"keydown\", handleEsc);\n      }\n    }\n  }, [isEditAvatarPopupOpen, isEditProfilePopupOpen, isAddPlacePopupOpen, selectedCard, infoTooltip]);\n  \n  function onSignOut() {\n    setIsLoggedIn(false);\n    setMailName(null);\n    navigate(\"/signin\");\n    localStorage.removeItem(\"jwt\");\n  }\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n      <div className=\"page\">\n        <div className=\"page__content\">\n          <Routes>\n            <Route path=\"/signin\" element={\n              <>\n                <Header title=\"Регистрация\" route=\"/signup\"/>\n                <Login onLogin={onLogin} />\n              </>\n            }/>\n\n            <Route path=\"/signup\" element={\n              <>\n                <Header title=\"Войти\" route=\"/signin\"/>\n                <Register onRegister={onRegister} />\n              </>\n            }/>\n\n            <Route exact path=\"/\" element={\n              <>\n                <Header title=\"Выйти\" mail={mailName} onClick={onSignOut} route=\"\" />\n                <>\n                  <ProtectedRoute\n                    component={Main}\n                    isLogged={isLoggedIn}\n                    onEditAvatar={handleEditAvatarClick}\n                    onEditProfile={handleEditProfileClick}\n                    onAddPlace={handleAddPlaceClick}\n                    onCardClick={handleCardClick}\n                    cards={cards}\n                    onCardLike={handleCardLike}\n                    onCardDelete={handleDeleteCardClick}\n                  />\n                  <Footer />\n                </>\n              </>\n            }/>\n\n            <Route path=\"*\" element={<Navigate to={isLoggedIn ? \"/\" : \"/signin\"}/>} />\n          </Routes>\n\n          <EditProfilePopup \n            isOpen={isEditProfilePopupOpen} \n            onCloseClick={handlePopupCloseClick} \n            onClose={closeAllPopups} \n            onSubmit={handleUpdateUser}\n          />\n          \n          <AddPlacePopup \n            isOpen={isAddPlacePopupOpen} \n            onCloseClick={handlePopupCloseClick} \n            onClose={closeAllPopups} \n            onSubmit={handleAddPlaceSubmit}\n          />\n          \n          <DeleteCardPopup\n            isOpen={isDeletePopupOpen}\n            onCloseClick={handlePopupCloseClick}\n            onClose={closeAllPopups}\n            onSubmit={handleDeleteCard}\n            card={selectedCard}\n          />\n\n          <EditAvatarPopup \n            isOpen={isEditAvatarPopupOpen} \n            onCloseClick={handlePopupCloseClick} \n            onClose={closeAllPopups} \n            onSubmit={handleAvatarUpdate}\n          />\n\n          <ImagePopup\n            card={selectedCard}\n            isOpen={isImagePopupOpen} \n            onCloseClick={handlePopupCloseClick}\n            onClose={closeAllPopups}\n          />\n\n          <InfoTooltip \n            image={popupImage} \n            title={popupTitle} \n            isOpen={infoTooltip} \n            onCloseClick={handlePopupCloseClick}\n            onClose={closeAllPopups} \n          />\n        </div>\n      </div>\n    </CurrentUserContext.Provider>\n  );\n}\n\nexport default App;","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\nimport { BrowserRouter } from \"react-router-dom\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter basename='/'>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}